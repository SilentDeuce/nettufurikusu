<center><h3><a href="javascript:(function()%7Bvar%20clq%20%3D%20document.location.href.split(%22%3A%22)%5B3%5D%0A%09var%20knpJsonLink%20%3D%20%22https%3A%2F%2Foriginator.backlot.netflix.com%2Fapi%2Fknp%2Fclq%3Aorigination%3A%22%20%2B%20clq%0A%09var%20LANG%20%3D%20%22zh-CN%22%0A%0A%09var%20getJSON%20%3D%20async%20url%20%3D%3E%0A%09%7B%0A%20try%0A%20%7B%0A%20const%20response%20%3D%20await%20fetch(url)%3B%0A%20if%20(!response.ok)%0A%20throw%20new%20Error(response.statusText)%3B%0A%20const%20data%20%3D%20await%20response.json()%3B%0A%20return%20data%3B%0A%20%7D%0A%20catch%20(error)%0A%20%7B%0A%20return%20error%3B%0A%20%7D%0A%09%7D%0A%0A%09function%20srtName(suffix%20%3D%20%22%22)%0A%09%7B%0A%20var%20s%20%3D%20document.getElementsByClassName(%22cpe-page-menu-label%22)%5B0%5D%0A%20.innerText%0A%20var%20srtName%20%3D%20(s.replace(%2F%5B%20%5D%2Fg%2C%20'_').replace(%2F%5B%5Ea-z0-9_%5D%2Fgi%2C%20'')%20%2B%0A%20suffix%20%2B%20%22.csv%22%0A%20)%0A%20.trim()%0A%20if%20(!srtName)%20srtName%20%3D%20clq%20%2B%20%22_%22%20%2B%20suffix%20%2B%0A%20%22.csv%22%0A%20return%20srtName%0A%09%7D%0A%09var%20csvName%20%3D%20srtName()%0A%0A%09function%20denull(value)%0A%09%7B%0A%20if%20(!value)%0A%20%7B%0A%20return%20%22%22%0A%20%7D%0A%20else%0A%20%7B%0A%20return%20value.trim()%0A%20%7D%0A%09%7D%0A%0A%09var%20majorEntities%20%3D%20%5B%22PERSON%22%2C%20%22LOCATION%22%2C%20%22ORGANIZATION%22%2C%20%22PHRASE%22%5D%0A%0A%09function%20arrayToCsv(data)%0A%09%7B%0A%20return%20data.map(row%20%3D%3E%20row%0A%20.map(String)%20%2F%2F%20convert%20every%20value%20to%20String%0A%20.map(v%20%3D%3E%20v.replaceAll('%22'%2C%20'%22%22'))%20%2F%2F%20escape%20double%20colons%0A%20.map(v%20%3D%3E%20%60%22%24%7Bv%7D%22%60)%20%2F%2F%20quote%20it%0A%20.join('%2C')%20%2F%2F%20comma-separated%0A%20).join('%5Cr%5Cn')%3B%20%2F%2F%20rows%20starting%20on%20new%20lines%0A%09%7D%0A%0A%09var%20oKnp%20%3D%20%7B%7D%0A%09var%20finalArray%20%3D%20%5B%5D%0A%09var%20header_2%20%3D%20%5B%22TYPE%22%2C%20%22TEMPLATE%20(EN)%22%2C%20%22NOTE%22%2C%20%22TARGET%20(%22%20%2B%20LANG%20%2B%20%22)%22%2C%20%22NOTE%20(%22%20%2B%20LANG%20%2B%20%22)%22%5D%0A%09var%20header_3%20%3D%20%5B%22TYPE%22%2C%20%22ORIGINAL%22%2C%20%22TEMPLATE%20(EN)%22%2C%20%22NOTE%20(EN)%22%2C%20%22TARGET%20(%22%20%2B%20LANG%20%2B%20%22)%22%2C%20%22NOTE%20(%22%20%2B%20LANG%20%2B%20%22)%22%5D%0A%09var%20tmpArray%20%3D%20%5B%5D%0A%09getJSON(knpJsonLink).then(data%20%3D%3E%0A%09%7B%0A%0A%20oKnp%20%3D%20data%0A%20if%20(oKnp.srcLocale%20%3D%3D%20%22en%22)%0A%20%7B%0A%20finalArray.push(header_2)%0A%20for%20(const%20Entity%20of%20majorEntities)%0A%20%7B%0A%20if%20(typeof%20oKnp.mapKnpTermDTOs%5BEntity%5D%20!%3D%3D%20%22undefined%22)%0A%20%7B%0A%20oKnp.mapKnpTermDTOs%5BEntity%5D.forEach((v)%20%3D%3E%0A%20%7B%0A%20%20tmpArray.push(v.type%2C%20denull(v.srcValue.value)%2C%20denull(v.srcValue.note)%2C%20denull(v.localizedValues%5BLANG%5D.value)%2C%20denull(v.localizedValues%5BLANG%5D.note))%0A%20%20finalArray.push(tmpArray)%3B%0A%20%20tmpArray%20%3D%20%5B%5D%3B%0A%20%7D)%0A%20%7D%0A%20%7D%0A%0A%20oKnp.titleDTOs.forEach((t)%20%3D%3E%0A%20%7B%0A%20try%0A%20%7B%0A%20tmpArray.push(t.type%2C%20t.srcValue.value%2C%20t.srcValue.note%2C%20t.localizedValues%5BLANG%5D.value%2C%20t.localizedValues%5BLANG%5D.note)%0A%20finalArray.push(tmpArray)%3B%0A%20tmpArray%20%3D%20%5B%5D%3B%0A%20%7D%0A%20catch%20(e)%0A%20%7B%7D%0A%20%7D)%0A%0A%20%7D%0A%20else%0A%20%7B%0A%20var%20LANG_SRC%20%3D%20oKnp.srcLocale%0A%20finalArray.push(header_3)%0A%20for%20(const%20Entity%20of%20majorEntities)%0A%20%7B%0A%0A%20oKnp.mapKnpTermDTOs%5BEntity%5D.forEach((v)%20%3D%3E%0A%20%7B%0A%0A%20try%0A%20%7B%0A%20%20tmpArray.push(v.type%2C%20denull(v.srcValue.value)%2C%20denull(v.localizedValues%5B%22en%22%5D.value)%2C%20denull(v.localizedValues%5B%22en%22%5D.note)%2C%20denull(v.localizedValues%5BLANG%5D.value)%2C%20denull(v.localizedValues%5BLANG%5D.note))%0A%20%20finalArray.push(tmpArray)%3B%0A%20%20tmpArray%20%3D%20%5B%5D%3B%0A%20%7D%0A%20catch%20(e)%0A%20%7B%7D%0A%20%7D)%0A%0A%20%7D%0A%0A%20oKnp.titleDTOs.forEach((t)%20%3D%3E%0A%20%7B%0A%20try%0A%20%7B%0A%20tmpArray.push(t.type%2C%20denull(t.srcValue)%2C%20denull(t.localizedValues%5B%22en%22%5D.value)%2C%20denull(t.localizedValues%5B%22en%22%5D.note)%2C%20denull(t.localizedValues%5BLANG%5D.value)%2C%20denull(t.localizedValues%5BLANG%5D.note))%0A%20finalArray.push(tmpArray)%3B%0A%20tmpArray%20%3D%20%5B%5D%3B%0A%20%7D%0A%20catch%20(e)%0A%20%7B%7D%0A%20%7D)%0A%0A%0A%20%7D%0A%20let%20csv%20%3D%20arrayToCsv(finalArray)%0A%20var%20universalBOM%20%3D%20%22%EF%BB%BF%22%3B%0A%20var%20a%20%3D%20window.document.createElement('a')%3B%0A%20a.setAttribute('href'%2C%20'data%3Atext%2Fcsv%3B%20charset%3Dutf-8%2C'%20%2B%20encodeURIComponent(universalBOM%20%2B%20csv))%3B%0A%20a.setAttribute('download'%2C%20csvName)%3B%0A%20window.document.body.appendChild(a)%3B%0A%20a.click()%3B%0A%09%7D).catch(error%20%3D%3E%0A%09%7B%0A%20console.error(error)%3B%0A%09%7D)%3B%7D)()%3B">Knp2Csv</a>
